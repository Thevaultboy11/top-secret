---
import { SITE } from "~/config.mjs";
import Layout from "~/layouts/PageLayout.astro";
import emailjs from "@emailjs/browser";
import { Picture } from "@astrojs/image/components";

const meta = {
  title: "Scope white paper",
  description:
    "Making a scope is the single best technique for improving your assessment results.",
  dontUseTitleTemplate: true,
};
---

<Layout {meta}>
  <div class="relative max-w-7xl mx-auto px-4 sm:px-6">
    <div class="pt-0 md:pt-[76px] pointer-events-none"></div>
    <div class="py-4 md:py-8">
      <div class="text-center max-w-screen-lg mx-auto">
        <p class="info-title text-xs md:text-xl max-w-2xl mx-auto">
          Need a high-quality security report?
        </p>
        <h1
          class="cover-title text-ibm-black text-4xl md:text-7xl font-bold leading-tighter tracking-tighter mb-4 font-heading"
        >
          Three Steps to Make a Good Security Assessment<span
            class="text-primary"
          >
            Scope</span
          >
        </h1>
        <p
          class="text-ibm-black text-base break-line text-center leading-tight max-w-lg mx-auto"
        >
          Get real information fast, create high-quality scope boundaries and
          get started with your security assessment.
        </p>
      </div>
    </div>
  </div>
  <!-- the modal-->

  <div
    class="mt-32 relative gap-y-8 grid grid-cols-1 md:grid-cols-2 p-4 max-w-7xl"
  >
    <div class="flex justify-center items-center">
      <Picture
        src={"/images/pdf-report/pdf-coverr.png"}
        class="mx-auto md:rotate-6 col-span-4 rounded-xl"
        width={600}
        height={600}
        widths={[400, 768]}
        sizes="100vw, 432px"
        aspectRatio="300:300"
        alt="sa"
      />
    </div>
    <div
      class="bg-paper col-span-1 h-200 w-full md:w-max p-4 rounded-xl md:p-8 md:px-16"
    >
      <div
        id="modal"
        class="hidden fixed w-full top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 p-4 md:max-w-2xl z-50"
      >
        <div
          class="w-full relative p-4 h-full bg-white rounded-lg dark:bg-gray-700"
        >
          <div
            class="flex items-start justify-between p-4 border-b rounded-t dark:border-gray-600"
          >
            <h3
              id="modal-title"
              class="text-xl font-semibold text-gray-900 dark:text-white"
            >
              White Paper Sent Successfully!
            </h3>
            <button
              id="close_modal"
              type="button"
              class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"
              data-modal-hide="staticModal"
            >
              <svg
                class="w-3 h-3"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 14 14"
              >
                <path
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"></path>
              </svg>
              <span class="sr-only">How To Define a Scope?</span>
            </button>
          </div>
          <!-- Modal body -->
          <div class="p-6 space-y-6">
            <p
              id="modal-content"
              class="text-base leading-relaxed text-gray-500 dark:text-gray-400"
            >
              Our white paper is sent to your email! Check your spam folder if
              it's not showing up.
              <br />
              <br class="mt-8" /> For any issues, contact us <a
                class="text-primary"
                href="mailto:info@starshipshield.com">info@starshipshield.com</a
              >.
            </p>
          </div>
          <!-- Modal footer -->
        </div>
      </div>
      <div class="flex flex-col justify-center items-center w-full md:w-96">
        <h1 class="sub-title text-center text-xl md:text-2xl">
          GET OUR WHITE PAPER
        </h1>
        <form class="flex w-full flex-col gap-y-2" id="contactForm">
          <label for="name">Full Name</label>
          <input
            placeholder="John Doe"
            class="rounded-full w-full p-2 md:p-4"
            type="text"
            id="name"
            name="name"
          />

          <label for="email">Email Address</label>
          <input
            placeholder="example@business.com"
            class="rounded-full w-full p-2 md:p-4"
            type="email"
            id="email"
            name="email"
          />

          <label for="phone">Phone Number</label>
          <input
            class="rounded-full w-full p-2 md:p-4"
            type="text"
            id="phone"
            name="phone"
            placeholder="+123 42 432 123"
          />

          <button
            id="Opt"
            type="submit"
            class="shadow-none cta-button-lg mx-auto md:w-72 my-4"
            >Send Me The White Paper</button
          >
        </form>
        <p class="text-xl text-center text-paper">
          P.S. Say goodbye to miscomunication with any cyber-sec team.
        </p>
        <p class="text-xs text-center">
          YOUR INFORMATION IS 100% SAFE. WE NEVER SHARE YOUR INFORMATION WITH
          ANYONE. BY CLICKING Send Me The White Paper I AGREE TO RECEIVE AUTO
          AND PRE-MADE E-MAILS AT THE E-MAIL PROVIDED. I UNDERSTAND THAT MY
          CONSENT IS NOT A CONDITION TO PURCHASE ANYTHING.
        </p>
      </div>
    </div>
  </div>
  <div
    class="mt-32 max-w-7xl mx-auto flex text-center flex-col justify-center items-center"
  >
    <p class="info-title max-w-md mx-auto">Security</p>
    <h2 class="sub-title">What makes a good scope?</h2>
  </div>
  <!-- one rule -->
  <div class="grid h-200 grid-cols-1 md:grid-cols-3 gap-8 p-4">
    <div class="p-4 md:py-8 md:px-16 bg-paper rounded-xl text-center">
      <Picture
        src={"/images/pdf-report/card-pdff1.png"}
        class="rounded-xl mx-auto"
        width={300}
        height={300}
        widths={[400, 768]}
        sizes="100vw, 432px"
        aspectRatio="300:300"
        alt="sa"
      />
      <h3 class="text-xl font-bold leading-tight sm:text-2xl font-heading">
        <a class="transition ease-in duration-200">CLEAR OBJECTIVES & GOALS</a>
      </h3>
      <p class="text-muted text-lg">
        A good scope contains exact objectives & goals that need to be met at
        the end of every security assessment.
      </p>
    </div>
    <div
      class="flex flex-col items-center justify-center p-4 md:p-8 md:px-16 bg-paper rounded-xl text-center"
    >
      <Picture
        src={"/images/pdf-report/card-pdff2.png"}
        class="rounded-xl"
        width={300}
        height={300}
        widths={[400, 768]}
        sizes="100vw, 432px"
        aspectRatio="300:300"
        alt="sa"
      />
      <h3 class="text-xl font-bold leading-tight sm:text-2xl font-heading">
        <a class="transition ease-in duration-200 uppercase">
          The Attack Surface</a
        >
      </h3>
      <p class="text-muted text-lg">
        Having clear information about your attack surface and where bad actors
        could get into is a strong foundation to a scope.
      </p>
    </div>
    <div
      class="flex flex-col items-center justify-center p-4 md:p-8 md:px-16 bg-paper rounded-xl text-center"
    >
      <Picture
        src={"/images/pdf-report/card-pdff3.png"}
        class="rounded-xl"
        width={300}
        height={300}
        widths={[400, 768]}
        sizes="100vw, 432px"
        aspectRatio="300:300"
        alt="sa"
      />
      <h3 class="text-xl font-bold leading-tight sm:text-2xl font-heading">
        <a class="transition ease-in duration-200"
          >CHOOSING THE RIGHT APPROACH</a
        >
      </h3>
      <p class="text-muted text-lg">
        Tailored to your objectives & goals, you should pick a good approach.<br
        />They can be white, gray or black box approaches.
      </p>
    </div>
    <div
      class="col-span-1 md:col-span-3 w-full flex justify-center items-center"
    >
      <button class="cta-button-lg mx-auto md:w-72 mt-8" id="scrollToOptButton"
        >Send Me The Paper</button
      >
    </div>
  </div>
  <div class="mt-32 w-full relative">
    <div
      class="w-full max-w-4xl md:mx-auto flex flex-col justify-center items-center gap-y-4 p-4"
    >
      <p class="info-title text-center max-w-md">What are you waiting for?</p>
      <h2 class="sub-title text-center">Here is what you are getting...</h2>
      <p
        class="text-ibm-black text-base break-line text-center leading-tight max-w-lg mx-auto"
      >
        Experience how easy it is to make a good and high-quality scope.
      </p>

      <Picture
        class="mx-auto rounded-xl border-1 border-ibm-black border"
        width={600}
        height={500}
        widths={[400, 768]}
        sizes="100vw, 432px"
        aspectRatio="1600:900"
        alt="sa"
        src={"/images/pdf-report/card-pdf4.jpg"}
      />
      <div class="mb-8 max-w-lg">
        <ul class="text-left">
          <li class="mb-2 md:mb-4 text-base md:text-lg">
            ✅ <span class="ml-2 md:ml-4">The Three Approaches.</span>
          </li>
          <li class="mb-2 md:mb-4 text-base md:text-lg">
            ✅ <span class="ml-2 md:ml-4">Real World Examples.</span>
          </li>
          <li class="mb-2 md:mb-4 text-base md:text-lg">
            ✅ <span class="ml-2 md:ml-4">Guide To Time Estimation.</span>
          </li>
        </ul>
        <div class="w-full flex justify-center">
          <button
            class="cta-button-lg cursor-pointer mx-auto md:w-72 mt-8"
            id="scrollToOptButton2">Send Me The Paper</button
          >
        </div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const scrollToOptButton = document.getElementById("scrollToOptButton");
      const scrollToOptButton2 = document.getElementById("scrollToOptButton2");

      const OptSection = document.getElementById("Opt");

      scrollToOptButton.addEventListener("click", function () {
        // Calculate the target position of the Opt section
        const targetPosition = OptSection.offsetTop;

        // Scroll to the Opt section using smooth behavior
        window.scrollTo({
          top: targetPosition,
          behavior: "smooth",
        });
      });
      scrollToOptButton2.addEventListener("click", function () {
        // Calculate the target position of the Opt section
        const targetPosition = OptSection.offsetTop;

        // Scroll to the Opt section using smooth behavior
        window.scrollTo({
          top: targetPosition,
          behavior: "smooth",
        });
      });
    });
    //   sending the email modal-backdrop modal-content
    const form = document.getElementById("contactForm");
    const modal = document.getElementById("modal");
    const close_modal = document.getElementById("close_modal");
    const modal_backdrop = document.getElementById("modal-backdrop");
    const modal_content = document.getElementById("modal-content");
    const modal_title = document.getElementById("modal-title");

    close_modal.addEventListener("click", async (event) => {
      modal.classList.toggle("hidden");
      modal_backdrop.classList.add("hidden");
      document.body.style.overflow = "";
    });
    function move_progress_bar() {
      let width = 0;

      var elem = document.getElementById("progress_bar");
      var id = setInterval(frame, 20);
      function frame() {
        if (width >= 100) {
          clearInterval(id);
          width = 0;
          elem.style.width = 0;
        } else {
          width++;
          elem.style.width = width + "%";
        }
      }
    }

    form.addEventListener("submit", async (event) => {
      event.preventDefault();

      const nameInput = form.querySelector("#name").value;
      const emailInput = form.querySelector("#email").value;
      const phoneInput = form.querySelector("#phone").value;
      const apiUrl = "https://back-end-sooty.vercel.app/api";

      const data = {
        fullName: nameInput,
        email: emailInput,
        phoneNumber: phoneInput,
      };
      move_progress_bar();
      try {
        const response = await fetch(`${apiUrl}/create-user`, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify(data),
        });

        if (response.status === 200) {
          modal.classList.toggle("hidden");
          modal_backdrop.classList.remove("hidden");
          document.body.style.overflow = "hidden";
        } else {
          console.log(response.status);
          modal.classList.toggle("hidden");
          modal_backdrop.classList.remove("hidden");
          document.body.style.overflow = "hidden";
          modal_title.innerHTML = `<p class='text-primary'>Oops!</p>`;
          modal_content.innerHTML = `
        Something went wrong while sending the white paper. Try reloading the site to fix the problem.<br/><br/>
        If that does not help Please contact us at <a class='text-primary' href='mailto:info@starshipshield.com'>info@starshipshield.com</a>.
      `;
        }
      } catch (error) {
        console.error("Error:", error);
      }
    });
  </script>
</Layout>
